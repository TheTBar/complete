<% content_for :page_title do %>
  Abandoned Carts
<% end %>

<% content_for :page_actions do %>
  <%= link_to_with_icon 'arrow-left', Spree.t(:back_to_resource_list, resource: Spree.t(:report)), spree.admin_reports_url, class: 'btn btn-default' %>
<% end %>

<div class="well">
  <%= search_form_for @search, :url => spree.abandoned_carts_admin_reports_path  do |s| %>
    <div class="form-group date-range-filter">
      <%= label_tag nil, Spree.t(:date_range) %>
      <div class="date-range-filter row">
        <div class="col-md-6">
          Start Date<br>
          <%= s.text_field :created_at_gt, :class => 'datepicker datepicker-from form-control', :value => datepicker_field_value(params[:q][:created_at_gt]) %>
        </div>
        <div class="col-md-6">
          End Date (leave blank for today)<br>
          <%= s.text_field :created_at_lt, :class => 'datepicker datepicker-to form-control', :value => datepicker_field_value(params[:q][:created_at_lt]) %>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <%= button Spree.t(:search), 'search' %>
    </div>
  <% end %>

</div>


Total number of abandoned carts: <%= @total_abandoned_carts.size %><p></p>

Total no user info: <%= @total_no_user.size %><br>
Total no address info: <%= @total_no_address.size %><br>
Total no delivery choice: <%= @total_no_delivery.size %><br>
Total no payment info: <%= @total_no_payment.size %><br>
Total no confirm: <%= @total_no_confirm.size %><br>
